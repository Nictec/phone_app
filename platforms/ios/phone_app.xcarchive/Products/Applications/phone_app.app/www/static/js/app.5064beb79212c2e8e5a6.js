webpackJsonp([1,0],[function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var s=n(20),r=a(s),i=n(12),o=(a(i),n(11)),u=a(o),l=n(8),c=(a(l),n(7)),f=(a(c),n(10)),d=(a(f),n(19)),p=a(d),h=n(2),v=a(h),_=n(3),m=a(_),g=n(13),w=a(g);r.default.use(u.default),r.default.use(p.default),new r.default({el:"#app",template:"<app/>",framework7:{root:"#app",routes:m.default},components:{app:w.default}}),r.default.http.options.root="http://technick.pythonanywhere.com/",r.default.http.interceptors.push(function(t,e){t.headers.set("Authorization",v.default.getAuthHeader()),e()})},,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="http://technick.pythonanywhere.com/auth/";e.default={user:{authenticated:!1,is_superuser:!1,is_staff:!1,name:""},error:!1,logInfo:!1,check_permissions:function(t){t.$http.get("current-user/").then(function(t){this.user.is_superuser=t.data.is_superuser,this.user.is_staff=t.data.is_staff})},login:function(t,e,a){var s=new FormData;s.append("username",e),s.append("password",a),t.$http.post(n,s,{emulateJSON:!0}).then(function(t){localStorage.setItem("id_token",t.data.token),this.user.authenticated=!0,console.log("login sucessful:"+t.data.token),window.bus.$emit("reload")},function(t){this.user.authenticated=!1,console.log("login failed"),this.error=!0})},logout:function(){localStorage.removeItem("id_token"),this.user.authenticated=!1,this.logInfo=!0},getAuthHeader:function(){var t=localStorage.getItem("id_token");if(t){var e="Token ";return e+localStorage.getItem("id_token")}return null},check:function(){var t=localStorage.getItem("id_token");t?this.user.authenticated=!0:this.user.authenticated=!1},current_user:function(t){t.$http.get("current-user/").then(function(t){this.user.is_superuser=t.data.is_superuser,this.user.is_staff=t.data.is_staff,this.user.name=t.data.name})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[{path:"/clients/",component:n(14)},{path:"/equipment/",component:n(15)}]},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),r=a(s),i=new Framework7;e.default={data:function(){return{user:r.default.user,error:r.default.error,username:"",password:""}},methods:{open_login:function(){i.loginScreen()},login:function(){r.default.login(this,this.username,this.password)},logout:function(){r.default.logout()}},created:function(){r.default.check()}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{client:""}},created:function(){this.$http.get("client/").then(function(t){this.client=t.data})},computed:{}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{equipment:"",space:"&nbsp;"}},methods:{del:function(){alert("this action deletes items")}},created:function(){this.$http.get("equipment/").then(function(t){this.equipment=t.data})},computed:{}}},function(t,e){},function(t,e){},function(t,e){},,,,function(t,e,n){n(9);var a=n(1)(n(4),n(18),null,null);t.exports=a.exports},function(t,e,n){var a=n(1)(n(5),n(16),null,null);t.exports=a.exports},function(t,e,n){var a=n(1)(n(6),n(17),null,null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",[n("f7-navbar",{attrs:{"back-link":" ",sliding:""}},[n("f7-nav-center",[t._v("Kunden")]),t._v(" "),n("f7-nav-right",[n("f7-link",[n("f7-icon",{staticStyle:{color:"white"},attrs:{fa:"plus"}})],1)],1)],1),t._v(" "),n("f7-list",t._l(t.client,function(e){return n("f7-list-item",[t._v(t._s(e.firstname)+" "+t._s(e.secondname))])}))],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",[n("f7-navbar",{attrs:{"back-link":" ",sliding:""}},[n("f7-nav-center",[t._v("Equipment")]),t._v(" "),n("f7-nav-right",[n("f7-link",[n("f7-icon",{staticStyle:{color:"white"},attrs:{fa:"plus"}})],1)],1)],1),t._v(" "),n("f7-list",t._l(t.equipment,function(e){return n("f7-list-item",{attrs:{swipeout:"",title:e.fabricator+t.space+e.name},on:{"swipeout:delete":t.del}},[n("f7-swipeout-actions",[n("f7-swipeout-button",{attrs:{delete:""}},[t._v("Delete")])],1)],1)}))],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("f7-statusbar"),t._v(" "),n("f7-views",{attrs:{layout:"dark"}},[n("f7-view",{attrs:{id:"main-view","navbar-through":"","dynamic-navbar":!0,main:""}},[n("f7-navbar",[n("f7-nav-center",{attrs:{sliding:""}},[t._v("EasyRent")]),t._v(" "),n("f7-nav-right",[n("f7-link",{on:{click:function(e){t.logout()}}},[n("f7-icon",{staticStyle:{color:"white",cursor:"pointer"},attrs:{fa:"sign-out"}})],1)],1)],1),t._v(" "),n("f7-toolbar",[n("f7-link",[n("f7-icon",{staticStyle:{color:"white"},attrs:{fa:"cubes"}})],1),t._v(" "),n("f7-link",[n("f7-icon",{staticStyle:{color:"white"},attrs:{fa:"bell"}})],1),t._v(" "),n("f7-link",{attrs:{href:"/equipment/"}},[n("f7-icon",{staticStyle:{color:"white"},attrs:{fa:"server"}})],1),t._v(" "),n("f7-link",{attrs:{href:"/clients/",title:"about","link-view":"#main-view","link-close-panel":""}},[n("f7-icon",{staticStyle:{color:"white"},attrs:{fa:"users"}})],1)],1),t._v(" "),n("f7-pages",[n("f7-page")],1)],1)],1),t._v(" "),n("f7-login-screen",{attrs:{id:"login-screen",opened:!t.user.authenticated,layout:"dark"}},[n("f7-view",[n("f7-pages",[n("f7-page",{attrs:{"login-screen":""}},[n("f7-login-screen-title",[t._v("Login")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"logmod"},[n("h3",[t._v("Benutzername oder Passwort falsch!")])]),t._v(" "),n("f7-list",{attrs:{form:""}},[n("f7-list-item",[n("f7-label",[t._v("Username")]),t._v(" "),n("f7-input",{attrs:{name:"username",placeholder:"Username",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),n("f7-list-item",[n("f7-label",[t._v("Password")]),t._v(" "),n("f7-input",{attrs:{name:"password",type:"password",placeholder:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),n("f7-list",[n("f7-list-button",{attrs:{title:"Sign In"},on:{click:function(e){t.login()}}}),t._v(" "),n("f7-list-label")],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},,,function(t,e){}]);
//# sourceMappingURL=app.5064beb79212c2e8e5a6.js.map